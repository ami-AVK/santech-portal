---
import Layout from "../layouts/SectionLayout.astro";
import IconHeader from "../components/IconHeader.astro";
import JobCard from "./Job.astro";
---
<section class="flex flex-col px-4 md:px-8 lg:px-32" id="job">
    <IconHeader title={"Вакансии"} iconID="#brain-research" />
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-16">
        <JobCard/>
        <JobCard/>
        <JobCard/>
        <JobCard/>
        <JobCard/>
    </div>
    <div class="animate-spin"></div>
   
 
</section>
<script type="text/javascript">
    var elements = document.querySelectorAll(".clipboard");
    for (var i = 0; i < elements.length; i++) {
    elements[i].addEventListener("click", function(e) {
        // console.log(this.getAttribute('value-to-keep'));
        setClipboard(this);
    });
    }
    function setClipboard(elem) {
        const text = elem.getAttribute('value-to-keep')
        const type = "text/plain";    
        const blob = new Blob([text], { type });
        const data = [new ClipboardItem({ [type]: blob })];

        navigator.clipboard.write(data).then(
            () => {
                // elem.classList.add("bg-gray-300");
                elem.classList.add("animate-add");
                setTimeout(function(){
                    elem.classList.remove("animate-add");
                },1000);

                console.log("Успешно");
            },
            () => {
                console.log("Не очень");
            },
    );
}
</script>